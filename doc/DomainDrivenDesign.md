# Domain-Driven Design (DDD): Описание предметной области и доменных слоев системы

**Domain-Driven Design (DDD)** — это подход к проектированию сложных программных систем, который фокусируется на
глубоком понимании предметной области и логики системы. В рамках системы **Platform SM** мы выделяем ключевые домены и
слои, чтобы обеспечить четкое разделение ответственности и упростить масштабирование.

## 1. Предметная область (Domain)

Система **Platform SM** предназначена для разработки и развертывания веб-приложений с использованием готового стека
технологий. Она включает компоненты для работы с базами данных, кешированием, API и взаимодействием с пользователями.

### Ключевые домены:

#### 1. Платформа разработки (Development Platform)

**Основная цель:** Обеспечить основу для разработки различных приложений, включая веб- и мобильные.

**Составные части:**

- **Проект (Project):** Хранит информацию о проекте, такую как имя, настройки и конфигурации.
- **Шаблон проекта (Project Template):** Шаблон для быстрого создания различных типов приложений (веб, мобильные и
  т.д.).
- **Сервис разработки (Development Service):** Сервис для создания и развертывания новых проектов, связанный с API и
  системой хранения данных.

#### 2. Интерфейс пользователя (User Interface)

**Основная цель:** Создание интерфейсов для взаимодействия пользователей с системой.

**Составные части:**

- **Веб-приложение (Web Frontend):** Веб-страницы, которые взаимодействуют с **GraphQL API** и **REST API** (в
  определенных случаях), а также получают данные в реальном времени через **WebSocket Server**.
- **Мобильное приложение (Mobile App):** Мобильное приложение, которое взаимодействует с **GraphQL API** и **REST API
  ** (в определенных случаях), а также получает данные в реальном времени через **WebSocket Server**.
- **Панель администратора (Admin Panel):** Панель для управления проектами, пользователями и конфигурациями системы,
  использующая **REST API**, реализованный на **Laravel**, для операций.

#### 3. API и сервисы (API & Services)

**Основная цель:** Обеспечить взаимодействие между различными компонентами через API.

**Составные части:**

- **GraphQL API (GraphQL API Service):** Основной API, реализованный с использованием **Node.js**, для гибкой обработки
  запросов и данных, поступающих от клиентов (веб-приложение, мобильное приложение).
- **REST API (REST API Service):** API, реализованный на **Laravel**, для управления проектами, пользователями и
  конфигурациями системы через панель администратора, а также для обработки запросов от веб- и мобильного приложений в
  определенных случаях (например, простые CRUD-операции, интеграция с внешними сервисами).
- **WebSocket (WebSocket Service):** Сервер, реализованный на **Node.js**, который управляет уведомлениями и обменом
  данными в реальном времени.

#### 4. База данных и кеширование (Data Storage & Caching)

**Основная цель:** Обеспечить хранение, обработку и кеширование данных для обеспечения производительности системы.

**Составные части:**

- **Реляционная база данных (Relational DB):** **PostgreSQL** — используется для хранения структурированных данных,
  таких как проекты, пользователи и настройки.
- **Кеширование (Caching):** **Redis** — используется для кеширования часто запрашиваемых данных, управления сессиями и
  очередями задач для повышения производительности.

## 2. Доменные слои (Layers)

Система разделена на несколько слоев, которые обеспечивают разную функциональность и взаимодействуют друг с другом.

### 1. Представление (Presentation Layer)

Этот слой отвечает за взаимодействие с пользователем и отображение данных.

**Составные части:**

- **Веб-приложение (React):** Интерактивный пользовательский интерфейс для взаимодействия с **GraphQL API** и **REST API
  ** (в определенных случаях), а также для получения данных в реальном времени через **WebSocket Server**.
- **Мобильное приложение (React Native):** Мобильный клиент, который использует **GraphQL API** и **REST API** (в
  определенных случаях) для обмена данными, а также получает данные в реальном времени через **WebSocket Server**.
- **Панель администратора (React Admin):** Инструмент для администрирования, использующий **REST API** (Laravel) для
  операций с данными.

### 2. Бизнес-логика (Business Logic Layer)

Этот слой содержит всю бизнес-логику, обработку данных и выполнение ключевых задач системы.

**Составные части:**

- **GraphQL API (Node.js):** Основной сервис для обработки запросов от клиентов (веб, мобильное приложение).
- **REST API (Laravel):** Сервис для управления проектами, пользователями и конфигурациями через панель администратора,
  а также для обработки запросов от веб- и мобильного приложений в определенных случаях. Laravel отвечает за:
    - Обработку запросов (GET, POST, PUT, DELETE).
    - Валидацию данных.
    - Интеграцию с базой данных (PostgreSQL) и кешированием (Redis).
- **WebSocket Server (Node.js):** Обрабатывает события и уведомления в реальном времени, обеспечивая двустороннюю связь
  с клиентами.

### 3. Данные и хранение (Data Layer)

Этот слой отвечает за хранение данных и их обработку.

**Составные части:**

- **PostgreSQL:** Реляционная база данных, где хранятся все структурированные данные, такие как записи о проектах,
  пользователях, сессиях и т.д.
- **Redis:** Используется для кеширования данных, управления очередями задач и обеспечения высокой скорости обработки
  запросов.
